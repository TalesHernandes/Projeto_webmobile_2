{"ast":null,"code":"import _slicedToArray from\"/workspaces/Projeto_webmobile_2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _createForOfIteratorHelper from\"/workspaces/Projeto_webmobile_2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";export default function Post(){var form=document.getElementById(\"employee-form\");form.addEventListener(\"submit\",function(event){event.preventDefault();var formData=new FormData(form);var jsonData={};var _iterator=_createForOfIteratorHelper(formData.entries()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=_slicedToArray(_step.value,2),key=_step$value[0],value=_step$value[1];jsonData[key]=value;}}catch(err){_iterator.e(err);}finally{_iterator.f();}jsonData[\"name\"]=jsonData[\"name\"]+\" \"+jsonData[\"surname\"];delete jsonData[\"surname\"];console.log(jsonData);fetch(\"https://mack-webmobile.vercel.app/api/users\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(jsonData)}).then(function(response){if(response.ok){alert(\"Post succeeded\");return response.json();}else{throw new Error(\"Post failed\");}}).then(function(data){console.log(data);window.location.reload();}).catch(function(error){console.error(error);alert(\"Post failed\");});});}","map":{"version":3,"names":["Post","form","document","getElementById","addEventListener","event","preventDefault","formData","FormData","jsonData","_iterator","_createForOfIteratorHelper","entries","_step","s","n","done","_step$value","_slicedToArray","value","key","err","e","f","console","log","fetch","method","headers","body","JSON","stringify","then","response","ok","alert","json","Error","data","window","location","reload","catch","error"],"sources":["/workspaces/Projeto_webmobile_2/src/Post.js"],"sourcesContent":["export default function Post() {\r\n  const form = document.getElementById(\"employee-form\");\r\n\r\n  form.addEventListener(\"submit\", (event) => {\r\n    event.preventDefault();\r\n\r\n    const formData = new FormData(form);\r\n    const jsonData = {};\r\n\r\n    for (const [key, value] of formData.entries()) {\r\n      jsonData[key] = value;\r\n    }\r\n\r\n    jsonData[\"name\"] = jsonData[\"name\"] + \" \" + jsonData[\"surname\"];\r\n    delete jsonData[\"surname\"];\r\n\r\n    console.log(jsonData);\r\n\r\n    fetch(\"https://mack-webmobile.vercel.app/api/users\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(jsonData)\r\n    })\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          alert(\"Post succeeded\");\r\n          return response.json();\r\n        } else {\r\n          throw new Error(\"Post failed\");\r\n        }\r\n      })\r\n      .then((data) => {\r\n        console.log(data);\r\n        window.location.reload();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        alert(\"Post failed\");\r\n      });\r\n  });\r\n}\r\n"],"mappings":"0UAAA,cAAe,SAAS,CAAAA,IAAIA,CAAA,CAAG,CAC7B,GAAM,CAAAC,IAAI,CAAGC,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC,CAErDF,IAAI,CAACG,gBAAgB,CAAC,QAAQ,CAAE,SAACC,KAAK,CAAK,CACzCA,KAAK,CAACC,cAAc,CAAC,CAAC,CAEtB,GAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAACP,IAAI,CAAC,CACnC,GAAM,CAAAQ,QAAQ,CAAG,CAAC,CAAC,CAAC,IAAAC,SAAA,CAAAC,0BAAA,CAEOJ,QAAQ,CAACK,OAAO,CAAC,CAAC,EAAAC,KAAA,KAA7C,IAAAH,SAAA,CAAAI,CAAA,KAAAD,KAAA,CAAAH,SAAA,CAAAK,CAAA,IAAAC,IAAA,EAA+C,KAAAC,WAAA,CAAAC,cAAA,CAAAL,KAAA,CAAAM,KAAA,IAAnCC,GAAG,CAAAH,WAAA,IAAEE,KAAK,CAAAF,WAAA,IACpBR,QAAQ,CAACW,GAAG,CAAC,CAAGD,KAAK,CACvB,CAAC,OAAAE,GAAA,EAAAX,SAAA,CAAAY,CAAA,CAAAD,GAAA,WAAAX,SAAA,CAAAa,CAAA,IAEDd,QAAQ,CAAC,MAAM,CAAC,CAAGA,QAAQ,CAAC,MAAM,CAAC,CAAG,GAAG,CAAGA,QAAQ,CAAC,SAAS,CAAC,CAC/D,MAAO,CAAAA,QAAQ,CAAC,SAAS,CAAC,CAE1Be,OAAO,CAACC,GAAG,CAAChB,QAAQ,CAAC,CAErBiB,KAAK,CAAC,6CAA6C,CAAE,CACnDC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACtB,QAAQ,CAC/B,CAAC,CAAC,CACCuB,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAIA,QAAQ,CAACC,EAAE,CAAE,CACfC,KAAK,CAAC,gBAAgB,CAAC,CACvB,MAAO,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CACxB,CAAC,IAAM,CACL,KAAM,IAAI,CAAAC,KAAK,CAAC,aAAa,CAAC,CAChC,CACF,CAAC,CAAC,CACDL,IAAI,CAAC,SAACM,IAAI,CAAK,CACdd,OAAO,CAACC,GAAG,CAACa,IAAI,CAAC,CACjBC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAC1B,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBnB,OAAO,CAACmB,KAAK,CAACA,KAAK,CAAC,CACpBR,KAAK,CAAC,aAAa,CAAC,CACtB,CAAC,CAAC,CACN,CAAC,CAAC,CACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}